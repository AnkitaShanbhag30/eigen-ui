{% extends "base.html.j2" %}

{% block content %}
<!-- Hero Section with Brand-Integrated Styling -->
<section class="hero bg-gradient-to-br from-brand-primary to-brand-secondary text-white p-8 rounded-3xl mb-8">
    <div class="text-center">
        <h1 class="text-4xl font-bold mb-4">{{ outline.headline or custom_data.title or "Your Compelling Headline" }}</h1>
        {% if outline.subhead or custom_data.subtitle %}
            <p class="text-xl mb-6 opacity-90">{{ outline.subhead or custom_data.subtitle }}</p>
        {% endif %}
        
        <!-- Dynamic CTA Button Based on Brand Patterns -->
        {% if outline.cta or custom_data.cta %}
            <a href="#" class="btn bg-white text-brand-primary hover:bg-gray-100 text-lg px-8 py-4 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300">
                {{ outline.cta or custom_data.cta }}
            </a>
        {% endif %}
        
        <!-- Brand Context Display -->
        {% if outline.meta and outline.meta.tags %}
            <div class="mt-6 flex justify-center gap-2 flex-wrap">
                {% for tag in outline.meta.tags[:5] %}
                    <span class="px-3 py-1 bg-white bg-opacity-20 text-white text-sm rounded-full">{{ tag }}</span>
                {% endfor %}
            </div>
        {% endif %}
    </div>
</section>

<!-- Dynamic Content Sections Based on Brand Analysis -->
{% if outline and outline.sections and outline.sections|length > 0 %}
    {% for section_data in outline.sections %}
        {% if section_data.title and section_data.bullets and section_data.bullets|length > 0 %}
            <section class="section">
                <h2 class="section-title">{{ section_data.title }}</h2>
                
                <!-- Dynamic Layout Based on Content Type and Brand Patterns -->
                {% if section_data.layout_style == 'grid' %}
                    <!-- Grid Layout for Benefits/Features -->
                    <div class="grid grid-cols-2 gap-6">
                        {% for bullet in section_data.bullets %}
                            <div class="card text-center">
                                <div class="text-brand-primary text-2xl mb-2">âœ¨</div>
                                <p class="font-medium">{{ bullet }}</p>
                            </div>
                        {% endfor %}
                    </div>
                {% elif section_data.layout_style == 'card' %}
                    <!-- Card Layout for Solutions/Testimonials -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        {% for bullet in section_data.bullets %}
                            <div class="card border-l-4 border-brand-accent">
                                <p class="text-lg">{{ bullet }}</p>
                            </div>
                        {% endfor %}
                    </div>
                {% elif section_data.layout_style == 'list' %}
                    <!-- List Layout for General Content -->
                    <ul class="space-y-3">
                        {% for bullet in section_data.bullets %}
                            <li class="flex items-start gap-3">
                                <div class="w-2 h-2 bg-brand-accent rounded-full mt-2 flex-shrink-0"></div>
                                <p>{{ bullet }}</p>
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <!-- Default Text Layout -->
                    <div class="space-y-3">
                        {% for bullet in section_data.bullets %}
                            <p class="text-lg">{{ bullet }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
                
                <!-- Additional Content if Available -->
                {% if section_data.content %}
                    <div class="mt-6 p-4 bg-brand-muted bg-opacity-10 rounded-lg">
                        {{ section_data.content }}
                    </div>
                {% endif %}
            </section>
        {% endif %}
    {% endfor %}
{% endif %}

<!-- Brand-Integrated Call-to-Action Section -->
<section class="section text-center bg-gradient-to-r from-brand-primary to-brand-secondary text-white p-8 rounded-2xl">
    <h2 class="text-3xl font-bold mb-4">Ready to Get Started?</h2>
    <p class="text-lg mb-6 opacity-90">
        Take the next step towards achieving your goals.
    </p>
    
    <!-- Dynamic CTA Based on Brand Patterns -->
    <div class="flex justify-center gap-4 flex-wrap">
        <a href="#" class="btn bg-white text-brand-primary hover:bg-gray-100 px-8 py-4 rounded-full font-semibold shadow-lg">
            {{ outline.cta or custom_data.cta or "Get Started Today" }}
        </a>
        
        <!-- Secondary CTA if Brand Supports Multiple Actions -->
        {% if brand.ui_layout and brand.ui_layout.component_patterns and brand.ui_layout.component_patterns.buttons|length > 1 %}
            <a href="#" class="btn btn-outline border-white text-white hover:bg-white hover:text-brand-primary px-8 py-4 rounded-full font-semibold">
                Learn More
            </a>
        {% endif %}
    </div>
    
    <!-- Brand Trust Indicators -->
    {% if brand.keywords %}
        <div class="mt-8 flex justify-center gap-4 flex-wrap">
            {% for keyword in brand.keywords[:4] %}
                <span class="px-3 py-1 bg-white bg-opacity-20 text-white text-sm rounded-full">{{ keyword }}</span>
            {% endfor %}
        </div>
    {% endif %}
</section>

<!-- Brand Analysis Summary (Optional) -->
{% if brand.ui_layout and brand.ui_layout.design_patterns and brand.ui_layout.design_patterns|length >= 2 %}
    <section class="section bg-gray-50 p-6 rounded-lg">
        <h3 class="text-xl font-semibold text-center mb-4 text-brand-primary">Design System Insights</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
            {% if brand.ui_layout.layout_style %}
                <div class="text-center">
                    <div class="font-medium text-brand-secondary">Layout Style</div>
                    <div>{{ brand.ui_layout.layout_style }}</div>
                </div>
            {% endif %}
            
            {% if brand.ui_layout.content_structure and brand.ui_layout.content_structure.section_count %}
                <div class="text-center">
                    <div class="font-medium text-brand-secondary">Content Sections</div>
                    <div>{{ brand.ui_layout.content_structure.section_count }} detected</div>
                </div>
            {% endif %}
            
            {% if brand.ui_layout.component_patterns and brand.ui_layout.component_patterns.buttons and brand.ui_layout.component_patterns.buttons|length > 0 %}
                <div class="text-center">
                    <div class="font-medium text-brand-secondary">Button Patterns</div>
                    <div>{{ brand.ui_layout.component_patterns.buttons|length }} variants</div>
                </div>
            {% endif %}
        </div>
    </section>
{% endif %}
{% endblock %}
